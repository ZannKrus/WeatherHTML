(function(){"use strict";var e={5846:function(e,t,r){var a=r(5130),i=r(6768),n=r(4232);const o={id:"app"},s={class:"language-switcher"},u={key:0},c={key:1},l={for:"city"},h=["value"],d={class:"favorites-actions"},f={class:"favorites-list"},p=["onClick"],v=["onClick"],m=["src","alt"];function w(e,t,r,w,g,k){const _=(0,i.g2)("WeatherForecast");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("h1",null,(0,n.v_)(e.$t("title")),1),(0,i.Lk)("div",s,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>k.changeLanguage("en"))},"English"),(0,i.Lk)("button",{onClick:t[1]||(t[1]=e=>k.changeLanguage("ru"))},"Русский")]),g.weather?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("label",null,[(0,i.bo)((0,i.Lk)("input",{type:"radio",value:"metric","onUpdate:modelValue":t[2]||(t[2]=e=>g.units=e),onChange:t[3]||(t[3]=(...e)=>k.updateWeather&&k.updateWeather(...e))},null,544),[[a.XL,g.units]]),(0,i.eW)(" "+(0,n.v_)(e.$t("celsius")),1)]),(0,i.Lk)("label",null,[(0,i.bo)((0,i.Lk)("input",{type:"radio",value:"imperial","onUpdate:modelValue":t[4]||(t[4]=e=>g.units=e),onChange:t[5]||(t[5]=(...e)=>k.updateWeather&&k.updateWeather(...e))},null,544),[[a.XL,g.units]]),(0,i.eW)(" "+(0,n.v_)(e.$t("fahrenheit")),1)]),(0,i.Lk)("label",l,(0,n.v_)(e.$t("select_city")),1),(0,i.bo)((0,i.Lk)("select",{id:"city","onUpdate:modelValue":t[6]||(t[6]=e=>g.city=e),onChange:t[7]||(t[7]=(...e)=>k.updateWeather&&k.updateWeather(...e))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(g.cities,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,n.v_)(e),9,h)))),128))],544),[[a.u1,g.city]]),(0,i.Lk)("div",d,[(0,i.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>k.addToFavorites&&k.addToFavorites(...e))},(0,n.v_)(e.$t("add_to_favorites")),1)]),(0,i.Lk)("h3",null,(0,n.v_)(e.$t("favorites")),1),(0,i.Lk)("ul",f,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(g.favorites,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e,onClick:t=>k.selectFavorite(e),class:"favorite-item"},[(0,i.eW)((0,n.v_)(e)+" ",1),(0,i.Lk)("button",{onClick:(0,a.D$)((t=>k.removeFromFavorites(e)),["stop"]),class:"remove-favorite"}," × ",8,v)],8,p)))),128))]),(0,i.Lk)("p",null,(0,n.v_)(e.$t("temperature"))+": "+(0,n.v_)(g.weather.main.temp)+" "+(0,n.v_)(k.unitSymbol),1),(0,i.Lk)("p",null,(0,n.v_)(e.$t("description"))+": "+(0,n.v_)(g.weather.weather[0].description),1),(0,i.Lk)("p",null,(0,n.v_)(e.$t("humidity"))+": "+(0,n.v_)(g.weather.main.humidity)+"%",1),(0,i.Lk)("p",null,(0,n.v_)(e.$t("pressure"))+": "+(0,n.v_)(g.weather.main.pressure)+" hPa",1),(0,i.Lk)("p",null,(0,n.v_)(e.$t("wind"))+": "+(0,n.v_)(g.weather.wind.speed)+" "+(0,n.v_)(e.$t("wind_unit"))+", "+(0,n.v_)(g.weather.wind.deg)+"°",1),(0,i.Lk)("img",{src:`http://openweathermap.org/img/wn/${g.weather.weather[0].icon}@2x.png`,alt:g.weather.weather[0].description},null,8,m),g.forecast?((0,i.uX)(),(0,i.Wv)(_,{key:0,forecast:g.forecast},null,8,["forecast"])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("h2",u,(0,n.v_)(e.$t("loading")),1))])}r(4114),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(8992),r(4520),r(3949);const g={class:"forecast"},k={class:"forecast-row"},_=["src","alt"];function y(e,t,r,a,o,s){return(0,i.uX)(),(0,i.CE)("div",g,[t[0]||(t[0]=(0,i.Lk)("h2",null,"Прогноз погоды на ближайшие дни",-1)),(0,i.Lk)("div",k,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.forecast,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:"forecast-day",key:t},[(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,(0,n.v_)(s.formatDate(e.dt)),1)]),(0,i.Lk)("img",{src:`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,alt:e.weather[0].description},null,8,_),(0,i.Lk)("p",null,"Темп: "+(0,n.v_)(e.main.temp)+" °C",1),(0,i.Lk)("p",null,(0,n.v_)(e.weather[0].description),1)])))),128))])])}var L={name:"WeatherForecast",props:{forecast:{type:Array,required:!0}},methods:{formatDate(e){const t={weekday:"short",day:"numeric",month:"short"};return new Date(1e3*e).toLocaleDateString("ru-RU",t)}}},$=r(1241);const b=(0,$.A)(L,[["render",y],["__scopeId","data-v-4407aef0"]]);var C=b,F={name:"App",components:{WeatherForecast:C},data(){return{weather:null,forecast:null,city:"Нижний Тагил",cities:["Нижний Тагил","Москва","Санкт-Петербург","Екатеринбург","Новосибирск","Казань","Челябинск","Уфа","Самара","Омск","Ростов-на-Дону","Красноярск","Воронеж","Пермь","Волгоград","Краснодар","Тюмень","Саратов","Ижевск","Тольятти","Барнаул","Ульяновск","Иркутск","Хабаровск","Ярославль","Владивосток","Махачкала","Томск","Оренбург","Кемерово","Рязань","Астрахань","Набережные Челны","Пенза","Липецк","Тула","Киров","Чебоксары","Курск","Брянск","Иваново","Магнитогорск","Тверь","Калининград","Сочи","Белгород","Ставрополь","Нижний Новгород"],units:"metric",favorites:JSON.parse(localStorage.getItem("favorites"))||[]}},computed:{unitSymbol(){return"metric"===this.units?"°C":"°F"}},mounted(){this.updateWeather()},methods:{updateWeather(){this.fetchWeather(),this.fetchForecast()},fetchWeather(){const e="6019323cca29a654a91661580504dbbf";fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.city}&appid=${e}&units=${this.units}&lang=${this.$i18n.locale}`).then((e=>{if(!e.ok)throw new Error(`Ошибка: ${e.status}`);return e.json()})).then((e=>{this.weather=e})).catch((e=>{console.error("Ошибка получения данных о погоде:",e),alert(this.$t("error_weather"))}))},fetchForecast(){const e="6019323cca29a654a91661580504dbbf";fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${this.city}&appid=${e}&units=${this.units}&lang=${this.$i18n.locale}`).then((e=>{if(!e.ok)throw new Error(`Ошибка: ${e.status}`);return e.json()})).then((e=>{const t=[],r=new Set;e.list.forEach((e=>{const a=new Date(1e3*e.dt).toLocaleDateString("ru-RU");r.has(a)||(t.push(e),r.add(a))})),this.forecast=t})).catch((e=>{console.error("Ошибка получения данных прогноза:",e),alert(this.$t("error_forecast"))}))},addToFavorites(){this.favorites.includes(this.city)||(this.favorites.push(this.city),localStorage.setItem("favorites",JSON.stringify(this.favorites)))},removeFromFavorites(e){this.favorites=this.favorites.filter((t=>t!==e)),localStorage.setItem("favorites",JSON.stringify(this.favorites))},selectFavorite(e){this.city=e,this.updateWeather()},changeLanguage(e){this.$i18n.locale=e,this.updateWeather()}}};const W=(0,$.A)(F,[["render",w]]);var E=W,O=r(5931);const X={en:{title:"Weather Website",loading:"Loading...",celsius:"Celsius",fahrenheit:"Fahrenheit",select_city:"Select a city:",add_to_favorites:"Add to favorites",favorites:"Favorites",temperature:"Temperature",description:"Description",humidity:"Humidity",pressure:"Pressure",wind:"Wind",wind_unit:"m/s",error_weather:"Failed to fetch weather data. Try again later.",error_forecast:"Failed to fetch forecast. Try again later."},ru:{title:"Сайт с погодой",loading:"Загрузка...",celsius:"Цельсий",fahrenheit:"Фаренгейт",select_city:"Выберите город:",add_to_favorites:"Добавить в избранное",favorites:"Избранные",temperature:"Температура",description:"Описание",humidity:"Влажность",pressure:"Давление",wind:"Ветер",wind_unit:"м/с",error_weather:"Не удалось загрузить данные о погоде. Попробуйте позже.",error_forecast:"Не удалось загрузить прогноз. Попробуйте позже."}},S=(0,O.hU)({locale:"ru",messages:X}),j=(0,a.Ef)(E);j.use(S),j.mount("#app")}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,a,i,n){if(!a){var o=1/0;for(l=0;l<e.length;l++){a=e[l][0],i=e[l][1],n=e[l][2];for(var s=!0,u=0;u<a.length;u++)(!1&n||o>=n)&&Object.keys(r.O).every((function(e){return r.O[e](a[u])}))?a.splice(u--,1):(s=!1,n<o&&(o=n));if(s){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,i,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,n,o=a[0],s=a[1],u=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var l=u(r)}for(t&&t(a);c<o.length;c++)n=o[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},a=self["webpackChunktestweather"]=self["webpackChunktestweather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(5846)}));a=r.O(a)})();
//# sourceMappingURL=app.b5f23737.js.map